import{q as _,r as n,s as h,t as v,v as E,o as g,e as w,i as e,E as y,F as l,G as r,u as i,H as p,y as F}from"./entry.988bb1f8.js";import{u as b}from"./useSupabaseClient.7e2e3421.js";const B={class:"auth"},C={class:"auth__container"},U={class:"auth__block"},S=e("h1",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",-1),k=e("button",{type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F",-1),T=_({__name:"register",setup(M){const t=n(""),a=n(""),c=n(!1),d=b(),m=h();v(()=>{E(()=>{m.value&&F("/profile")})});const f=async()=>{try{const{error:u}=await d.auth.signInWithOtp({email:t.value});if(u)throw u;alert("\u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0432\u0430\u0448\u0443 \u043F\u043E\u0447\u0442\u0443 \u0434\u043B\u044F \u0432\u0445\u043E\u0434\u0430!")}catch(u){alert(u.error_description||u.message)}finally{}};return(u,s)=>(g(),w("section",B,[e("div",C,[e("div",U,[S,e("form",{onSubmit:s[2]||(s[2]=y(()=>i(c)?u.signUp():f(),["prevent"])),class:"auth__form"},[l(e("input",{type:"email","onUpdate:modelValue":s[0]||(s[0]=o=>p(t)?t.value=o:null),placeholder:"Email"},null,512),[[r,i(t)]]),l(e("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=o=>p(a)?a.value=o:null),placeholder:"\u041F\u0430\u0440\u043E\u043B\u044C"},null,512),[[r,i(a)]]),k],32)])])]))}});export{T as default};
