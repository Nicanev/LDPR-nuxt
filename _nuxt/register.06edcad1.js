import{s as h,K as b,L as v,M as C,N as g,q as w,r as c,C as k,D as E,E as y,o as B,e as S,i as t,O as U,P as _,Q as f,u as d,R as m,J as x}from"./entry.147117f6.js";const A=()=>{var e;const a=h(),u=b(),s=u.value?`Bearer ${u.value}`:void 0,{supabase:{url:i,key:l,client:o}}=v().public,r=s?C(o,{global:{headers:{Authorization:s}}}):o,n=((e=a._supabaseClient)==null?void 0:e.headers.Authorization)!==s;return(!a._supabaseClient||n)&&(a._supabaseClient=g(i,l,r)),a._supabaseClient},M={class:"auth"},F={class:"auth__container"},N={class:"auth__block"},R=t("h1",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",-1),T=t("button",{type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F",-1),z=w({__name:"register",setup(a){const u=c(""),s=c(""),i=c(!1),l=A(),o=async()=>{const{user:n,error:e}=await l.auth.signInWithPassword({email:u.value,password:s.value});console.log("user",e),console.log("error",e)},r=k();return E(()=>{y(()=>{r.value&&x("/profile")})}),(n,e)=>(B(),S("section",M,[t("div",F,[t("div",N,[R,t("form",{onSubmit:e[2]||(e[2]=U(()=>d(i)?n.signUp():o(),["prevent"])),class:"auth__form"},[_(t("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=p=>m(u)?u.value=p:null),placeholder:"Email"},null,512),[[f,d(u)]]),_(t("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=p=>m(s)?s.value=p:null),placeholder:"\u041F\u0430\u0440\u043E\u043B\u044C"},null,512),[[f,d(s)]]),T],32)])])]))}});export{z as default};
