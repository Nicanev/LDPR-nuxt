import{q as h,r as n,s as v,t as g,v as w,o as y,e as E,i as u,E as b,F as i,G as c,u as r,H as p,y as U}from"./entry.89132ddd.js";import{u as F}from"./useSupabaseClient.e33fcd9e.js";const x={class:"auth"},B={class:"auth__container"},S={class:"auth__block"},k=u("h1",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",-1),C=u("button",{type:"submit"},"\u0412\u043E\u0439\u0442\u0438",-1),q=h({__name:"register",setup(M){const t=n(""),a=n(""),d=n(!1),l=F(),_=async()=>{const{user:s,error:e}=await l.auth.signUp({email:t.value,password:a.value});alert("\u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0432\u0430\u0448\u0443 \u043F\u043E\u0447\u0442\u0443 \u0434\u043B\u044F \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438!"),console.log("user",e),console.log("error",e)},m=v();g(()=>{w(()=>{m.value&&U("/profile")})});const f=async()=>{try{const{error:s}=await l.auth.signInWithPassword({email:t.value,password:a.value});if(s)throw s}catch(s){alert(s.error_description||s.message)}finally{}};return(s,e)=>(y(),E("section",x,[u("div",B,[u("div",S,[k,u("form",{onSubmit:e[2]||(e[2]=b(()=>r(d)()?_():f(),["prevent"])),class:"auth__form"},[i(u("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=o=>p(t)?t.value=o:null),placeholder:"Email"},null,512),[[c,r(t)]]),i(u("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=o=>p(a)?a.value=o:null),placeholder:"password"},null,512),[[c,r(a)]]),C],32)])])]))}});export{q as default};
