import{q as l,r as a,s as c,t as _,v as p,o as d,e as f,i as u,E as m,F as h,G as v,u as y,H as E,y as g}from"./entry.d959f6ff.js";import{u as b}from"./useSupabaseClient.e7c15666.js";const w={class:"auth"},F={class:"auth__container"},x={class:"auth__block"},B=u("h1",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",-1),k=u("button",{type:"submit"},"\u0412\u043E\u0439\u0442\u0438",-1),T=l({__name:"register",setup(C){const t=a("");a(""),a(!1);const n=b(),i=c();_(()=>{p(()=>{i.value&&g("/profile")})});const r=async()=>{try{const{error:e}=await n.auth.signInWithOtp({email:t.value});if(e)throw e;alert("\u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0432\u0430\u0448\u0443 \u043F\u043E\u0447\u0442\u0443 \u0434\u043B\u044F \u0432\u0445\u043E\u0434\u0430!")}catch(e){alert(e.error_description||e.message)}finally{}};return(e,s)=>(d(),f("section",w,[u("div",F,[u("div",x,[B,u("form",{onSubmit:s[1]||(s[1]=m(o=>r(),["prevent"])),class:"auth__form"},[h(u("input",{type:"email","onUpdate:modelValue":s[0]||(s[0]=o=>E(t)?t.value=o:null),placeholder:"Email"},null,512),[[v,y(t)]]),k],32)])])]))}});export{T as default};
